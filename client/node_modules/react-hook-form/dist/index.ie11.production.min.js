"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("react"),e=function(){return(e=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++)for(var u in e=arguments[t])Object.prototype.hasOwnProperty.call(e,u)&&(r[u]=e[u]);return r}).apply(this,arguments)};function t(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(r);u<n.length;u++)e.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(r,n[u])&&(t[n[u]]=r[n[u]])}return t}function n(r,e,t,n){return new(t||(t=Promise))((function(u,i){function a(r){try{o(n.next(r))}catch(r){i(r)}}function c(r){try{o(n.throw(r))}catch(r){i(r)}}function o(r){var e;r.done?u(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(a,c)}o((n=n.apply(r,e||[])).next())}))}function u(r,e){var t,n,u,i,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(u=2&i[0]?n.return:i[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,i[1])).done)return u;switch(n=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(u=a.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){a.label=i[1];break}if(6===i[0]&&a.label<u[1]){a.label=u[1],u=i;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(i);break}u[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(r,a)}catch(r){i=[6,r],n=0}finally{t=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}function i(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,u,i=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(r){u={error:r}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(u)throw u.error}}return a}function c(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(a(arguments[e]));return r}var o=function(r){return r instanceof HTMLElement},s="blur",l="change",f="input",d="onBlur",v="onChange",y="onSubmit",h="onTouched",b="all",m="max",p="min",g="maxLength",x="minLength",A="pattern",R="required",F="validate";var w=function(r){return null==r},V=function(r){return"object"==typeof r},C=function(r){return!w(r)&&!Array.isArray(r)&&V(r)&&!(r instanceof Date)},S=function(r){return!Array.isArray(r)&&(/^\w*$/.test(r)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(r))},k=function(r){return r.filter(Boolean)},O=function(r){return k(r.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."))};function E(r,e,t){for(var n=-1,u=S(e)?[e]:O(e),i=u.length,a=i-1;++n<i;){var c=u[n],o=t;if(n!==a){var s=r[c];o=C(s)||Array.isArray(s)?s:isNaN(+u[n+1])?{}:[]}r[c]=o,r=r[c]}return r}var D=function(r,e){for(var t in void 0===e&&(e={}),r)S(t)?e[t]=r[t]:E(e,t,r[t]);return e},j=function(r){return void 0===r},B=function(r,e,t){var n=k(e.split(/[,[\].]+?/)).reduce((function(r,e){return w(r)?r:r[e]}),r);return j(n)||n===r?j(r[e])?t:r[e]:n},L=function(r,e){o(r)&&r.removeEventListener&&(r.removeEventListener(f,e),r.removeEventListener(l,e),r.removeEventListener(s,e))},T={isValid:!1,value:""},N=function(r){return Array.isArray(r)?r.reduce((function(r,e){return e&&e.ref.checked?{isValid:!0,value:e.ref.value}:r}),T):T},W=function(r){return"radio"===r.type},M=function(r){return"file"===r.type},P=function(r){return"checkbox"===r.type},I=function(r){return"select-multiple"===r.type},H={value:!1,isValid:!1},U={value:!0,isValid:!0},q=function(r){if(Array.isArray(r)){if(r.length>1){var e=r.filter((function(r){return r&&r.ref.checked})).map((function(r){return r.ref.value}));return{value:e,isValid:!!e.length}}var t=r[0].ref,n=t.checked,u=t.value,i=t.attributes;return n?i&&!j(i.value)?j(u)||""===u?U:{value:u,isValid:!0}:U:H}return H};function _(r,e,t,n){var u=r.current[e];if(u){var i=u.ref,a=i.value,o=i.disabled,s=u.ref;if(o&&n)return;return M(s)?s.files:W(s)?N(u.options).value:I(s)?c(s.options).filter((function(r){return r.selected})).map((function(r){return r.value})):P(s)?q(u.options).value:a}if(t)return B(t.current,e)}function z(r){return!r||r instanceof HTMLElement&&r.nodeType!==Node.DOCUMENT_NODE&&z(r.parentNode)}var G=function(r){return C(r)&&!Object.keys(r).length},$=function(r){return"boolean"==typeof r};function J(r,e){var t=S(e)?[e]:O(e),n=1==t.length?r:function(r,e){for(var t=e.slice(0,-1).length,n=0;n<t;)r=j(r)?n++:r[e[n++]];return r}(r,t),u=t[t.length-1],i=void 0;n&&delete n[u];for(var a=0;a<t.slice(0,-1).length;a++){var c=-1,o=void 0,s=t.slice(0,-(a+1)),l=s.length-1;for(a>0&&(i=r);++c<s.length;){var f=s[c];o=o?o[f]:r[f],l===c&&(C(o)&&G(o)||Array.isArray(o)&&!o.filter((function(r){return C(r)&&!G(r)||$(r)})).length)&&(i?delete i[f]:delete r[f]),i=o}}return r}var K=function(r,e){return r&&r.ref===e};function Q(r,t,n,u,i){for(var a,c=-1;++c<r.length;){for(var o in r[c])Array.isArray(r[c][o])?(!n[c]&&(n[c]={}),n[c][o]=[],Q(r[c][o],B(t[c]||{},o,[]),n[c][o],n[c],o)):B(t[c]||{},o)===r[c][o]?E(n[c]||{},o):n[c]=e(e({},n[c]),((a={})[o]=!0,a));!n.length&&u&&delete u[i]}return n.length?n:void 0}var X=function(r){return"string"==typeof r},Y=function(r){return w(r)||!V(r)};function Z(r,e){if(Y(r)||Y(e))return e;for(var t in e){var n=r[t],u=e[t];try{r[t]=C(n)&&C(u)||Array.isArray(n)&&Array.isArray(u)?Z(n,u):u}catch(r){}}return r}var rr=function(r,t,n,u){var i={},a=function(e){(j(u)||(X(u)?e.startsWith(u):Array.isArray(u)&&u.find((function(r){return e.startsWith(r)}))))&&(i[e]=_(r,e,void 0,n))};for(var c in r.current)a(c);return Z(D(e({},(t||{}).current||{})),D(i))};function er(r,e,t){var n,u;if(Y(r)||Y(e))return r===e;var a=Object.keys(r),c=Object.keys(e);if(a.length!==c.length)return!1;try{for(var o=i(a),s=o.next();!s.done;s=o.next()){var l=s.value;if(!t||!["ref","context"].includes(l)){var f=r[l],d=e[l];if((C(f)||Array.isArray(f))&&(C(d)||Array.isArray(d))?!er(f,d,t):f!==d)return!1}}}catch(r){n={error:r}}finally{try{s&&!s.done&&(u=o.return)&&u.call(o)}finally{if(n)throw n.error}}return!0}var tr=function(r){return r instanceof RegExp},nr=function(r){return C(e=r)&&!tr(e)?r:{value:r,message:""};var e},ur=function(r){return"function"==typeof r},ir=function(e){return X(e)||C(e)&&r.isValidElement(e)};function ar(r,e,t){if(void 0===t&&(t="validate"),ir(r)||$(r)&&!r)return{type:t,message:ir(r)?r:"",ref:e}}var cr=function(r,t,n,u,i){var a;if(t){var c=n[r];return e(e({},c),{types:e(e({},c&&c.types?c.types:{}),(a={},a[u]=i||!0,a))})}return{}},or=function(r,t,c,o){var s=c.ref,l=c.ref,f=l.type,d=l.value,v=c.options,y=c.required,h=c.maxLength,b=c.minLength,V=c.min,S=c.max,k=c.pattern,O=c.validate;return n(void 0,void 0,void 0,(function(){var n,c,l,E,D,j,B,L,T,M,I,H,U,z,J,K,Q,Y,Z,rr,er,or,sr,lr,fr,dr,vr,yr,hr,br,mr,pr,gr,xr,Ar,Rr,Fr,wr,Vr,Cr,Sr,kr,Or,Er,Dr,jr;return u(this,(function(u){switch(u.label){case 0:return n=r.current,c=s.name,l={},E=W(s),D=P(s),j=E||D,B=""===d,L=cr.bind(null,c,t,l),T=function(r,t,n,u,i){void 0===u&&(u=g),void 0===i&&(i=x);var a=r?t:n;l[c]=e({type:r?u:i,message:a,ref:s},L(r?u:i,a))},y&&(!E&&!D&&(B||w(d))||$(d)&&!d||D&&!q(v).isValid||E&&!N(v).isValid)&&(M=ir(y)?{value:!!y,message:y}:nr(y),I=M.value,H=M.message,I&&(l[c]=e({type:R,message:H,ref:j?((n[c].options||[])[0]||{}).ref:s},L(R,H)),!t))?[2,l]:(w(V)&&w(S)||(yr=void 0,hr=void 0,U=nr(S),z=U.value,J=U.message,K=nr(V),Q=K.value,Y=K.message,"number"===f||!f&&!isNaN(d)?(Z=s.valueAsNumber||parseFloat(d),w(z)||(yr=Z>z),w(Q)||(hr=Z<Q)):(rr=s.valueAsDate||new Date(d),X(z)&&(yr=rr>new Date(z)),X(Q)&&(hr=rr<new Date(Q))),!yr&&!hr||(T(!!yr,J,Y,m,p),t)))&&(!X(d)||B||!h&&!b||(er=nr(h),or=er.value,sr=er.message,lr=nr(b),fr=lr.value,dr=lr.message,vr=d.toString().length,yr=!w(or)&&vr>or,hr=!w(fr)&&vr<fr,!yr&&!hr||(T(!!yr,sr,dr),t)))&&(!k||B||(br=nr(k),mr=br.value,pr=br.message,!tr(mr)||mr.test(d)||(l[c]=e({type:A,message:pr,ref:s},L(A,pr)),t)))?O?(gr=_(r,c,o),xr=j&&v?v[0].ref:s,ur(O)?[4,O(gr)]:[3,2]):[3,11]:[2,l];case 1:return Ar=u.sent(),(Or=ar(Ar,xr))&&(l[c]=e(e({},Or),L(F,Or.message)),!t)?[2,l]:[3,11];case 2:if(!C(O))return[3,11];Rr={},u.label=3;case 3:u.trys.push([3,8,9,10]),Fr=i(Object.entries(O)),wr=Fr.next(),u.label=4;case 4:return wr.done?[3,7]:(Vr=a(wr.value,2),Cr=Vr[0],Sr=Vr[1],G(Rr)||t?[4,Sr(gr)]:[3,7]);case 5:kr=u.sent(),(Or=ar(kr,xr,Cr))&&(Rr=e(e({},Or),L(Cr,Or.message)),t&&(l[c]=Rr)),u.label=6;case 6:return wr=Fr.next(),[3,4];case 7:return[3,10];case 8:return Er=u.sent(),Dr={error:Er},[3,10];case 9:try{wr&&!wr.done&&(jr=Fr.return)&&jr.call(Fr)}finally{if(Dr)throw Dr.error}return[7];case 10:if(!G(Rr)&&(l[c]=e({ref:xr},Rr),!t))return[2,l];u.label=11;case 11:return[2,l]}}))}))},sr=function(r,e){return Object.entries(e).map((function(t){var n=a(t,2);return function(e,t,n){var u=n?r+"."+e:r+"["+e+"]";return Y(t)?u:sr(u,t)}(n[0],n[1],C(e))})).flat(1/0)},lr=function(r,e,t,n,u){var i;return t.add(e),G(r)?i=void 0:(i=B(r,e),(C(i)||Array.isArray(i))&&sr(e,i).forEach((function(r){return t.add(r)}))),j(i)?u?n:B(n,e):i},fr=function(r){var e=r.isOnBlur,t=r.isOnChange,n=r.isOnTouch,u=r.isTouched,i=r.isReValidateOnBlur,a=r.isReValidateOnChange,c=r.isBlurEvent,o=r.isSubmitted;return!r.isOnAll&&(!o&&n?!(u||c):(o?i:e)?!c:!(o?a:t)||c)},dr=function(r){return r.substring(0,r.indexOf("["))},vr=function(r,e){return RegExp(("^"+e+"([|.)\\d+").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(r)},yr=function(r,e){return c(r).some((function(r){return vr(e,r)}))};function hr(r,e){var t,n,u,a,c;if(Y(r)||e&&r instanceof File)return r;if(r instanceof Date)return c=new Date(r.getTime());if(r instanceof Set){c=new Set;try{for(var o=i(r),s=o.next();!s.done;s=o.next()){var l=s.value;c.add(l)}}catch(r){t={error:r}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return c}if(r instanceof Map){c=new Map;try{for(var f=i(r.keys()),d=f.next();!d.done;d=f.next()){var v=d.value;c.set(v,hr(r.get(v),e))}}catch(r){u={error:r}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(u)throw u.error}}return c}for(var v in c=Array.isArray(r)?[]:{},r)c[v]=hr(r[v],e);return c}var br=function(r){return{isOnSubmit:!r||r===y,isOnBlur:r===d,isOnChange:r===v,isOnAll:r===b,isOnTouch:r===h}},mr=function(r){return W(r)||P(r)},pr="undefined"==typeof window,gr="undefined"!=typeof document&&!pr&&!j(window.HTMLElement),xr=gr?"Proxy"in window:"undefined"!=typeof Proxy;var Ar=r.createContext(null);Ar.displayName="RHFContext";var Rr=function(){return r.useContext(Ar)},Fr=function(){var r="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(16*Math.random()+r)%16|0;return("x"==e?t:3&t|8).toString(16)}))};var wr=function(r,e){return j(e)?[]:Array.isArray(e)?function(r,e){for(var t=-1;++t<r.length;)e.indexOf(t)>=0&&delete r[t];return k(r)}(r,e):function(r,e){return c(r.slice(0,e),r.slice(e+1))}(r,e)},Vr=function(r,e,t){return Array.isArray(r)?(j(r[t])&&(r[t]=void 0),r.splice(t,0,r.splice(e,1)[0]),r):[]},Cr=function(r,e,t){var n=[r[t],r[e]];r[e]=n[0],r[t]=n[1]};function Sr(r,e){return c(Array.isArray(e)?e:[e||void 0],r)}function kr(r,e,t){return c(r.slice(0,e),Array.isArray(t)?t:[t||void 0],r.slice(e))}var Or=function(r){return Array.isArray(r)?Array(r.length).fill(void 0):void 0};function Er(r){if(C(r)){var e={};for(var t in r)e[t]=!0;return[e]}return[!0]}var Dr=function(r){return(Array.isArray(r)?r:[r]).map(Er).flat()},jr=function(r,t){return void 0===r&&(r=[]),r.map((function(r){var n;return e(((n={})[t]=Fr(),n),r)}))};exports.Controller=function(n){var u=n.name,i=n.rules,c=n.as,o=n.render,s=n.defaultValue,l=n.control,f=n.onFocus,d=t(n,["name","rules","as","render","defaultValue","control","onFocus"]),v=Rr(),y=l||v.control,h=y.defaultValuesRef,b=y.setValue,m=y.register,p=y.unregister,g=y.trigger,x=y.mode,A=y.reValidateMode,R=A.isReValidateOnBlur,F=A.isReValidateOnChange,w=y.formStateRef.current,V=w.isSubmitted,S=w.touched,k=y.updateFormState,O=y.readFormStateRef,D=y.fieldsRef,L=y.fieldArrayNamesRef,T=y.shallowFieldsStateRef,N=!yr(L.current,u),W=function(){return!j(B(T.current,u))&&N?B(T.current,u):j(s)?B(h.current,u):s},M=a(r.useState(W()),2),P=M[0],I=M[1],H=r.useRef(P),U=r.useRef({focus:function(){return null}}),q=r.useRef(f||function(){return U.current.focus()}),_=r.useCallback((function(r){return!fr(e({isBlurEvent:r,isReValidateOnBlur:R,isReValidateOnChange:F,isSubmitted:V,isTouched:!!B(S,u)},x))}),[R,F,V,S,u,x]),z=r.useCallback((function(r){var e=function(r){return Y(r)||!C(r.target)||C(r.target)&&!r.type?r:j(r.target.value)?r.target.checked:r.target.value}(a(r,1)[0]);return I(e),H.current=e,e}),[]),G=r.useCallback((function(){D.current[u]?D.current[u]=e({ref:D.current[u].ref},i):(m(Object.defineProperty({name:u,focus:q.current},"value",{set:function(r){I(r),H.current=r},get:function(){return H.current}}),i),N&&!B(h.current,u)&&I(W()))}),[i,u,m]);r.useEffect((function(){return function(){return p(u)}}),[p,u]),r.useEffect((function(){G()}),[G]),r.useEffect((function(){D.current[u]||(G(),N&&I(W()))}));var $=r.useCallback((function(){O.current.touched&&!B(S,u)&&(E(S,u,!0),k({touched:S})),_(!0)&&g(u)}),[u,S,k,_,g,O]),J={onChange:r.useCallback((function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return b(u,z(r),{shouldValidate:_(),shouldDirty:!0})}),[b,z,u,_]),onBlur:$,name:u,value:P,ref:U},K=e(e({},d),J);return c?r.isValidElement(c)?r.cloneElement(c,K):r.createElement(c,K):o?o(J):null},exports.FormProvider=function(n){var u=n.children,i=t(n,["children"]);return r.createElement(Ar.Provider,{value:e({},i)},u)},exports.appendErrors=cr,exports.get=B,exports.transformToNestObject=D,exports.useFieldArray=function(n){var u=n.control,i=n.name,o=n.keyName,s=void 0===o?"id":o,l=Rr(),f=r.useRef(-1),d=u||l.control,v=d.isFormDirty,y=d.updateWatchedValue,h=d.resetFieldArrayFunctionRef,b=d.fieldArrayNamesRef,m=d.fieldsRef,p=d.defaultValuesRef,g=d.removeFieldEventListener,x=d.formStateRef,A=d.shallowFieldsStateRef,R=d.updateFormState,F=d.readFormStateRef,w=d.validFieldsRef,V=d.fieldsWithValidationRef,C=d.fieldArrayDefaultValuesRef,S=d.validateResolver,O=d.getValues,D=d.shouldUnregister,j=d.fieldArrayValuesRef,L=dr(i),T=r.useRef(c(B(C.current,L)?B(C.current,i,[]):B(D?p.current:A.current,i,[]))),N=a(r.useState(jr(T.current,s)),2),W=N[0],M=N[1];E(j.current,i,W);var P=r.useCallback((function(){return B(j.current,i,[])}),[]),I=function(){return B(O(),i,P()).map((function(r,t){return e(e({},P()[t]),r)}))};b.current.add(i),B(C.current,L)||E(C.current,L,B(p.current,L));var H=function(r){if(M(r),E(j.current,i,r),F.current.isValid&&S){var e=O();E(e,i,r),S(e)}},U=function(){for(var r in m.current)vr(r,i)&&g(m.current[r],!0)},q=function(r){return!k(B(r,i,[])).length&&J(r,i)},_=function(r){var t=B(p.current,i,[]),n=function(r,t){var n;for(var u in r)for(var a in r[u])a===s||t[u]&&r[u]&&r[u][a]===t[u][a]||E(x.current.dirtyFields,i+"["+u+"]",e(e({},B(x.current.dirtyFields,i+"["+u+"]",{})),((n={})[a]=!0,n)))};r&&(n(t,r),n(r,t))},z=function(r,e,n,u,a,c){if(void 0===u&&(u=[]),void 0===a&&(a=!0),void 0===c&&(c=!1),B(A.current,i)){var o=r(B(A.current,i),e.argA,e.argB);a&&E(A.current,i,o)}if(B(C.current,i)){o=r(B(C.current,i),e.argA,e.argB);a&&E(C.current,i,o),q(C.current)}if(Array.isArray(B(x.current.errors,i))){o=r(B(x.current.errors,i),e.argA,e.argB);a&&E(x.current.errors,i,o),q(x.current.errors)}if(F.current.touched&&B(x.current.touched,i)){o=r(B(x.current.touched,i),e.argA,e.argB);a&&E(x.current.touched,i,o),q(x.current.touched)}if(F.current.dirtyFields||F.current.isDirty){o=r(B(x.current.dirtyFields,i,[]),e.argC,e.argD);a&&E(x.current.dirtyFields,i,o),_(n),q(x.current.dirtyFields)}c&&F.current.isValid&&!S&&(E(w.current,i,r(B(w.current,i,[]),e.argA)),q(w.current),E(V.current,i,r(B(V.current,i,[]),e.argA)),q(V.current)),R({errors:x.current.errors,dirtyFields:x.current.dirtyFields,isDirty:v(i,u.map((function(r){void 0===r&&(r={});var e=s;r[e];return t(r,["symbol"==typeof e?e:e+""])}))),touched:x.current.touched})},G=function(r){U(),!r&&J(C.current,i),J(A.current,i),T.current=B(r||p.current,i),M(jr(T.current,s))};return r.useEffect((function(){var r=B(C.current,i);if(r&&W.length<r.length&&(r.pop(),E(C.current,i,r)),y(i),f.current>-1)for(var e in m.current){var t=m.current[e];if(e.startsWith(i+"["+f.current+"]")&&t.ref.focus){t.ref.focus();break}}f.current=-1}),[W,i]),r.useEffect((function(){var r=h.current,e=b.current;return dr(i)||(r[i]=G),function(){U(),delete r[i],J(j,i),e.delete(i)}}),[]),{swap:r.useCallback((function(r,e){var t=I();Cr(t,r,e),U(),H(c(t)),z(Cr,{argA:r,argB:e,argC:r,argD:e},void 0,t,!1)}),[i]),move:r.useCallback((function(r,e){var t=I();Vr(t,r,e),U(),H(c(t)),z(Vr,{argA:r,argB:e,argC:r,argD:e},void 0,t,!1)}),[i]),prepend:r.useCallback((function(r,e){void 0===e&&(e=!0);var t=Or(r),n=Sr(I(),jr(Array.isArray(r)?r:[r],s));H(n),U(),z(Sr,{argA:t,argC:Dr(r)},n),f.current=e?0:-1}),[i]),append:r.useCallback((function(r,e){void 0===e&&(e=!0);var t=c(P(),jr(Array.isArray(r)?r:[r],s));H(t),(F.current.dirtyFields||F.current.isDirty)&&(_(t),R({isDirty:!0,dirtyFields:x.current.dirtyFields})),!D&&E(A.current,i,c(B(A.current,i)||[],[r])),f.current=e?W.length:-1}),[i]),remove:r.useCallback((function(r){var e=I(),t=wr(e,r);H(t),U(),z(wr,{argA:r,argC:r},t,wr(e,r),!0,!0)}),[i]),insert:r.useCallback((function(r,e,t){void 0===t&&(t=!0);var n=Or(e),u=I(),i=kr(u,r,jr(Array.isArray(e)?e:[e],s));H(i),U(),z(kr,{argA:r,argB:n,argC:r,argD:Dr(e)},i,kr(u,r)),f.current=t?r:-1}),[i]),fields:W}},exports.useForm=function(t){var d=this,h=void 0===t?{}:t,m=h.mode,p=void 0===m?y:m,g=h.reValidateMode,x=void 0===g?v:g,A=h.resolver,R=h.context,F=h.defaultValues,V=void 0===F?{}:F,O=h.shouldFocusError,T=void 0===O||O,N=h.shouldUnregister,H=void 0===N||N,U=h.criteriaMode,q=r.useRef({}),$=r.useRef({}),Z=r.useRef({}),tr=r.useRef(new Set),nr=r.useRef({}),ir=r.useRef({}),ar=r.useRef({}),cr=r.useRef({}),vr=r.useRef(V),Ar=r.useRef({}),Rr=r.useRef(!1),Fr=r.useRef(!1),wr=r.useRef(),Vr=r.useRef(H?{}:hr(V,gr)),Cr=r.useRef({}),Sr=r.useRef(R),kr=r.useRef(A),Or=r.useRef(new Set),Er=r.useRef(br(p)),Dr=Er.current,jr=Dr.isOnSubmit,Br=Dr.isOnTouch,Lr=U===b,Tr=a(r.useState({isDirty:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!jr,errors:{}}),2),Nr=Tr[0],Wr=Tr[1],Mr=r.useRef({isDirty:!xr,dirtyFields:!xr,touched:!xr||Br,isSubmitting:!xr,isValid:!xr}),Pr=r.useRef(Nr),Ir=r.useRef(),Hr=r.useRef(br(x)).current,Ur=Hr.isOnBlur,qr=Hr.isOnChange;Sr.current=R,kr.current=A,Pr.current=Nr;var _r=r.useCallback((function(r){return void 0===r&&(r={}),!Rr.current&&Wr(e(e({},Pr.current),r))}),[]),zr=r.useCallback((function(r,t,n,u,i){void 0===n&&(n=!1),void 0===u&&(u={});var a=n||function(r){var e=r.errors,t=r.name,n=r.error,u=r.validFields,i=r.fieldsWithValidation,a=j(n),c=B(e,t);return a&&!!c||!a&&!er(c,n,!0)||a&&B(i,t)&&!B(u,t)}({errors:Pr.current.errors,error:t,name:r,validFields:cr.current,fieldsWithValidation:ar.current}),c=B(Pr.current.errors,r);t?(J(cr.current,r),a=a||!c||!er(c,t,!0),E(Pr.current.errors,r,t)):((B(ar.current,r)||kr.current)&&(E(cr.current,r,!0),a=a||c),J(Pr.current.errors,r)),(a&&!w(n)||!G(u))&&_r(e(e(e({},u),{errors:Pr.current.errors}),kr.current?{isValid:!!i}:{}))}),[]),Gr=r.useCallback((function(r,e){var t=q.current[r],n=t.ref,u=t.options,i=gr&&o(n)&&w(e)?"":e;W(n)&&u?u.forEach((function(r){var e=r.ref;return e.checked=e.value===i})):M(n)&&!X(i)?n.files=i:I(n)?c(n.options).forEach((function(r){return r.selected=i.includes(r.value)})):P(n)&&u?u.length>1?u.forEach((function(r){var e=r.ref;return e.checked=Array.isArray(i)?!!i.find((function(r){return r===e.value})):i===e.value})):u[0].ref.checked=!!i:n.value=i}),[]),$r=r.useCallback((function(r,e){if(Mr.current.isDirty||Mr.current.dirtyFields){var t=ne();return r&&e&&E(t,r,e),!er(t,G(vr.current)?Ar.current:vr.current)}return!1}),[]),Jr=r.useCallback((function(r,t){if(void 0===t&&(t=!0),Mr.current.isDirty||Mr.current.dirtyFields){var n=!er(B(Ar.current,r),_(q,r,Vr)),u=B(Pr.current.dirtyFields,r),i=Pr.current.isDirty;n?E(Pr.current.dirtyFields,r,!0):J(Pr.current.dirtyFields,r);var a={isDirty:$r(),dirtyFields:Pr.current.dirtyFields},c=Mr.current.isDirty&&i!==a.isDirty||Mr.current.dirtyFields&&u!==B(Pr.current.dirtyFields,r);return c&&t&&(Pr.current=e(e({},Pr.current),a),_r(e({},a))),c?a:{}}return{}}),[]),Kr=r.useCallback((function(r,e){return n(d,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return q.current[r]?[4,or(q,Lr,q.current[r],Vr)]:[3,2];case 1:return t=n.sent()[r],zr(r,t,e),[2,j(t)];case 2:return[2,!1]}}))}))}),[zr,Lr]),Qr=r.useCallback((function(r){return n(d,void 0,void 0,(function(){var e,t,n,i;return u(this,(function(u){switch(u.label){case 0:return[4,kr.current(ne(),Sr.current,Lr)];case 1:return e=u.sent().errors,t=Pr.current.isValid,Array.isArray(r)?(n=r.map((function(r){var t=B(e,r);return t?E(Pr.current.errors,r,t):J(Pr.current.errors,r),!t})).every(Boolean),_r({isValid:G(e),errors:Pr.current.errors}),[2,n]):(i=B(e,r),zr(r,i,t!==G(e),{},G(e)),[2,!i])}}))}))}),[zr,Lr]),Xr=r.useCallback((function(r){return n(d,void 0,void 0,(function(){var e,t,i=this;return u(this,(function(a){switch(a.label){case 0:return e=r||Object.keys(q.current),kr.current?[2,Qr(e)]:Array.isArray(e)?(!r&&(Pr.current.errors={}),[4,Promise.all(e.map((function(r){return n(i,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,Kr(r,null)];case 1:return[2,e.sent()]}}))}))})))]):[3,2];case 1:return t=a.sent(),_r(),[2,t.every(Boolean)];case 2:return[4,Kr(e,Mr.current.isValid)];case 3:return[2,a.sent()]}}))}))}),[Qr,Kr]),Yr=r.useCallback((function(r,e,t){var n,u,a=t.shouldDirty,c=t.shouldValidate,o={};E(o,r,e);try{for(var s=i(sr(r,e)),l=s.next();!l.done;l=s.next()){var f=l.value;q.current[f]&&(Gr(f,B(o,f)),a&&Jr(f),c&&Xr(f))}}catch(r){n={error:r}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(n)throw n.error}}}),[Xr,Gr,Jr]),Zr=r.useCallback((function(r,t,n){var u,i;void 0===n&&(n={}),q.current[r]?(Gr(r,t),n.shouldDirty&&Jr(r)):Y(t)||(Yr(r,t,n),Or.current.has(r)&&($.current[r]=t,Cr.current[r](((u={})[r]=t,u)),(Mr.current.isDirty||Mr.current.dirtyFields)&&n.shouldDirty&&(E(Pr.current.dirtyFields,r,Q(t,B(vr.current,r,[]),B(Pr.current.dirtyFields,r,[]))),_r({isDirty:!er(e(e({},ne()),(i={},i[r]=t,i)),vr.current),dirtyFields:Pr.current.dirtyFields})))),!H&&E(Vr.current,r,t)}),[Jr,Gr,Yr]),re=function(r){return Fr.current||tr.current.has(r)||tr.current.has((r.match(/\w+/)||[])[0])},ee=function(r,e){if(void 0===e&&(e=!0),!G(nr.current))for(var t in nr.current)r&&nr.current[t].size&&!nr.current[t].has(r)&&!nr.current[t].has(dr(r))||(ir.current[t](),e=!1);return e};function te(r){var t,n,u;if(!H){var a=hr(r,gr);try{for(var c=i(Or.current),o=c.next();!o.done;o=c.next()){var s=o.value;S(s)&&!a[s]&&(a=e(e({},a),((u={})[s]=[],u)))}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a}return r}function ne(r){var e,t;if(X(r))return _(q,r,Vr);if(Array.isArray(r)){var n={};try{for(var u=i(r),a=u.next();!a.done;a=u.next()){var c=a.value;E(n,c,_(q,c,Vr))}}catch(r){e={error:r}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return n}return te(rr(q,Vr))}wr.current=wr.current?wr.current:function(r){var t=r.type,i=r.target;return n(d,void 0,void 0,(function(){var r,n,a,c,o,l,f,d,v,y,h,b;return u(this,(function(u){switch(u.label){case 0:return r=i.name,(n=q.current[r])?(l=fr(e({isBlurEvent:o=t===s,isReValidateOnChange:qr,isReValidateOnBlur:Ur,isTouched:!!B(Pr.current.touched,r),isSubmitted:Pr.current.isSubmitted},Er.current)),f=Jr(r,!1),d=!G(f)||re(r),o&&!B(Pr.current.touched,r)&&Mr.current.touched&&(E(Pr.current.touched,r,!0),f=e(e({},f),{touched:Pr.current.touched})),l?(ee(r),[2,(!G(f)||d&&G(f))&&_r(f)]):kr.current?[4,kr.current(ne(),Sr.current,Lr)]:[3,2]):[3,5];case 1:return v=u.sent().errors,y=Pr.current.isValid,!(a=B(v,r))&&kr.current&&(h=r.substring(0,r.lastIndexOf(".")>r.lastIndexOf("[")?r.lastIndexOf("."):r.lastIndexOf("[")),(b=B(v,h,{})).type&&b.message&&(a=b),h&&(b||B(Pr.current.errors,h))&&(r=h)),c=G(v),y!==c&&(d=!0),[3,4];case 2:return[4,or(q,Lr,n,Vr)];case 3:a=u.sent()[r],u.label=4;case 4:ee(r),zr(r,a,d,f,c),u.label=5;case 5:return[2]}}))}))};var ue=r.useCallback((function(r){return void 0===r&&(r={}),n(d,void 0,void 0,(function(){var t,n;return u(this,(function(u){switch(u.label){case 0:return[4,kr.current(e(e(e({},vr.current),ne()),r),Sr.current,Lr)];case 1:return t=u.sent().errors,n=G(t),Pr.current.isValid!==n&&_r({isValid:n}),[2]}}))}))}),[Lr]),ie=r.useCallback((function(r,e){return function(r,e,t,n,u,i){var a=t.ref,c=t.ref,o=c.name,s=c.type,l=r.current[o];if(!u){var f=_(r,o,n);j(f)||E(n.current,o,f)}if(s)if((W(a)||P(a))&&l){var d=l.options;Array.isArray(d)&&d.length?(k(d).forEach((function(r,t){var n=r.ref;(n&&z(n)&&K(r,n)||i)&&(L(n,e),J(d,"["+t+"]"))})),d&&!k(d).length&&delete r.current[o]):delete r.current[o]}else(z(a)&&K(l,a)||i)&&(L(a,e),delete r.current[o]);else delete r.current[o]}(q,wr.current,r,Vr,H,e)}),[H]),ae=r.useCallback((function(r){var e,t;if(Fr.current)_r();else if(tr){try{for(var n=i(tr.current),u=n.next();!u.done;u=n.next()){if(u.value.startsWith(r)){_r();break}}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}ee(r)}}),[]),ce=r.useCallback((function(r,e){r&&(ie(r,e),H&&!k(r.options||[]).length&&(J(Ar.current,r.ref.name),J(cr.current,r.ref.name),J(ar.current,r.ref.name),J(Pr.current.errors,r.ref.name),E(Pr.current.dirtyFields,r.ref.name,!0),_r({errors:Pr.current.errors,isDirty:$r(),dirtyFields:Pr.current.dirtyFields}),Mr.current.isValid&&kr.current&&ue(),ae(r.ref.name)))}),[ue,ie]),oe=r.useCallback((function(r,t,n){var u=n?nr.current[n]:tr.current,i=j(t)?vr.current:t,a=rr(q,Vr,!1,r);if(X(r)){if(Or.current.has(r)){var c=B(Z.current,r,[]);a=c.length===k(B(a,r,[])).length&&c.length?a:Z.current}return lr(a,r,u,j(t)?B(i,r):t,!0)}return Array.isArray(r)?r.reduce((function(r,t){var n;return e(e({},r),((n={})[t]=lr(a,t,u,i),n))}),{}):(Fr.current=j(n),D(!G(a)&&a||i))}),[]);function se(r,t){void 0===t&&(t={});var n,u=r.name,i=r.type,a=r.value,d=e({ref:r},t),v=q.current,y=mr(r),h=yr(Or.current,u),b=function(e){return gr&&(!o(r)||e===r)},m=v[u],p=!0;if(m&&(y?Array.isArray(m.options)&&k(m.options).find((function(r){return a===r.ref.value&&b(r.ref)})):b(m.ref)))v[u]=e(e({},m),t);else{m=i?y?e({options:c(k(m&&m.options||[]),[{ref:r}]),ref:{type:i,name:u}},t):e({},d):d,v[u]=m;var g=j(B(Vr.current,u));if(G(vr.current)&&g||(n=B(g?vr.current:Vr.current,u),(p=j(n))||h||Gr(u,n)),G(t)||(E(ar.current,u,!0),!jr&&Mr.current.isValid&&or(q,Lr,m,Vr).then((function(r){var e=Pr.current.isValid;G(r)?E(cr.current,u,!0):J(cr.current,u),e!==G(r)&&_r()}))),!(Ar.current[u]||h&&p)){var x=_(q,u,Vr);E(Ar.current,u,p?C(x)?e({},x):x:n),!h&&J(Pr.current.dirtyFields,u)}i&&function(r,e,t){var n=r.ref;o(n)&&t&&(n.addEventListener(e?l:f,t),n.addEventListener(s,t))}(y&&m.options?m.options[m.options.length-1]:m,y||"select-one"===r.type,wr.current)}}var le=r.useCallback((function(r,t){return function(a){return n(d,void 0,void 0,(function(){var n,c,o,s,l,f,d,v,y,h,b,m,p;return u(this,(function(u){switch(u.label){case 0:a&&a.preventDefault&&(a.preventDefault(),a.persist()),n={},c=te(rr(q,Vr,!0)),Mr.current.isSubmitting&&_r({isSubmitting:!0}),u.label=1;case 1:return u.trys.push([1,,16,17]),kr.current?[4,kr.current(c,Sr.current,Lr)]:[3,3];case 2:return o=u.sent(),s=o.errors,l=o.values,Pr.current.errors=n=s,c=l,[3,10];case 3:u.trys.push([3,8,9,10]),f=i(Object.values(q.current)),d=f.next(),u.label=4;case 4:return d.done?[3,7]:(v=d.value)?(y=v.ref.name,[4,or(q,Lr,v,Vr)]):[3,6];case 5:(h=u.sent())[y]?(E(n,y,h[y]),J(cr.current,y)):B(ar.current,y)&&(J(Pr.current.errors,y),E(cr.current,y,!0)),u.label=6;case 6:return d=f.next(),[3,4];case 7:return[3,10];case 8:return b=u.sent(),m={error:b},[3,10];case 9:try{d&&!d.done&&(p=f.return)&&p.call(f)}finally{if(m)throw m.error}return[7];case 10:return G(n)&&Object.keys(Pr.current.errors).every((function(r){return r in q.current}))?(_r({errors:{},isSubmitting:!0}),[4,r(c,a)]):[3,12];case 11:return u.sent(),[3,15];case 12:return Pr.current.errors=e(e({},Pr.current.errors),n),t?[4,t(Pr.current.errors,a)]:[3,14];case 13:u.sent(),u.label=14;case 14:T&&function(r,e){for(var t in r)if(B(e,t)){var n=r[t];if(n)if(n.ref.focus){if(j(n.ref.focus()))break}else if(n.options){n.options[0].ref.focus();break}}}(q.current,Pr.current.errors),u.label=15;case 15:return[3,17];case 16:return _r({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:G(Pr.current.errors),errors:Pr.current.errors,submitCount:Pr.current.submitCount+1}),[7];case 17:return[2]}}))}))}}),[T,Lr]);r.useEffect((function(){return Rr.current=!1,A&&Mr.current.isValid&&ue(),Ir.current=Ir.current||!gr?Ir.current:function(r,e){var t=new MutationObserver((function(){var t,n,u,a;try{for(var c=i(Object.values(r.current)),o=c.next();!o.done;o=c.next()){var s=o.value;if(s&&s.options)try{for(var l=(u=void 0,i(s.options)),f=l.next();!f.done;f=l.next()){var d=f.value;d&&d.ref&&z(d.ref)&&e(s)}}catch(r){u={error:r}}finally{try{f&&!f.done&&(a=l.return)&&a.call(l)}finally{if(u)throw u.error}}else s&&z(s.ref)&&e(s)}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}}));return t.observe(window.document,{childList:!0,subtree:!0}),t}(q,ce),function(){Rr.current=!0,Ir.current&&Ir.current.disconnect(),Vr.current={},Object.values(q.current).forEach((function(r){return ce(r,!0)}))}}),[ce]),!A&&Mr.current.isValid&&(Nr.isValid=er(cr.current,ar.current)&&G(Pr.current.errors));var fe={trigger:Xr,setValue:r.useCallback((function(r,e,t){Zr(r,e,t),re(r)&&_r(),ee(r),(t||{}).shouldValidate&&Xr(r)}),[Zr,Xr]),getValues:r.useCallback(ne,[]),register:r.useCallback((function(r,e){if(!pr)if(X(r))se({name:r},e);else{if(!C(r)||!("name"in r))return function(e){return e&&se(e,r)};se(r,e)}}),[vr.current]),unregister:r.useCallback((function(r){var e,t;try{for(var n=i(Array.isArray(r)?r:[r]),u=n.next();!u.done;u=n.next()){var a=u.value;ce(q.current[a],!0)}}catch(r){e={error:r}}finally{try{u&&!u.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}),[])},de=r.useMemo((function(){return e({isFormDirty:$r,updateWatchedValue:ae,shouldUnregister:H,updateFormState:_r,removeFieldEventListener:ie,watchInternal:oe,mode:Er.current,reValidateMode:{isReValidateOnBlur:Ur,isReValidateOnChange:qr},validateResolver:A?ue:void 0,fieldsRef:q,resetFieldArrayFunctionRef:Cr,useWatchFieldsRef:nr,useWatchRenderFunctionsRef:ir,fieldArrayDefaultValuesRef:$,validFieldsRef:cr,fieldsWithValidationRef:ar,fieldArrayNamesRef:Or,readFormStateRef:Mr,formStateRef:Pr,defaultValuesRef:vr,shallowFieldsStateRef:Vr,fieldArrayValuesRef:Z},fe)}),[vr.current,ae,H,ie,oe]);return e({watch:function(r,e){return oe(r,e)},control:de,formState:xr?new Proxy(Nr,{get:function(r,e){if(e in r)return Mr.current[e]=!0,r[e]}}):Nr,handleSubmit:le,reset:r.useCallback((function(r,e){var t,n;if(void 0===e&&(e={}),gr)try{for(var u=i(Object.values(q.current)),a=u.next();!a.done;a=u.next()){var c=a.value;if(c){var s=c.ref,l=c.options,f=mr(s)&&Array.isArray(l)?l[0].ref:s;if(o(f))try{f.closest("form").reset();break}catch(r){}}}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}q.current={},vr.current=hr(r||vr.current,gr),r&&ee(""),Object.values(Cr.current).forEach((function(r){return ur(r)&&r()})),Vr.current=H?{}:hr(r,gr)||{},function(r){var e=r.errors,t=r.isDirty,n=r.isSubmitted,u=r.touched,i=r.isValid,a=r.submitCount,c=r.dirtyFields;i||(cr.current={},ar.current={}),Ar.current={},$.current={},tr.current=new Set,Fr.current=!1,_r({submitCount:a?Pr.current.submitCount:0,isDirty:!!t&&Pr.current.isDirty,isSubmitted:!!n&&Pr.current.isSubmitted,isValid:!!i&&Pr.current.isValid,dirtyFields:c?Pr.current.dirtyFields:{},touched:u?Pr.current.touched:{},errors:e?Pr.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})}(e)}),[]),clearErrors:r.useCallback((function(r){r&&(Array.isArray(r)?r:[r]).forEach((function(r){return q.current[r]&&S(r)?delete Pr.current.errors[r]:J(Pr.current.errors,r)})),_r({errors:r?Pr.current.errors:{}})}),[]),setError:r.useCallback((function(r,t){var n=(q.current[r]||{}).ref;E(Pr.current.errors,r,e(e({},t),{ref:n})),_r({isValid:!1,errors:Pr.current.errors}),t.shouldFocus&&n&&n.focus&&n.focus()}),[]),errors:Nr.errors},fe)},exports.useFormContext=Rr,exports.useWatch=function(t){var n=t.control,u=t.name,i=t.defaultValue,o=Rr(),s=n||o.control,l=s.useWatchFieldsRef,f=s.useWatchRenderFunctionsRef,d=s.watchInternal,v=s.defaultValuesRef,y=a(r.useState(j(i)?X(u)?B(v.current,u):Array.isArray(u)?u.reduce((function(r,t){var n;return e(e({},r),((n={})[t]=B(v.current,t),n))}),{}):v.current:i),2),h=y[0],b=y[1],m=r.useRef(),p=r.useRef(i),g=r.useCallback((function(){var r=d(u,p.current,m.current);b(C(r)?e({},r):Array.isArray(r)?c(r):r)}),[b,d,p,u,m]);return r.useEffect((function(){var r=m.current=Fr(),e=f.current,t=l.current;return t[r]=new Set,e[r]=g,d(u,p.current,r),function(){delete t[r],delete e[r]}}),[u,g,f,l,d,p]),j(h)?i:h};
//# sourceMappingURL=index.ie11.production.min.js.map
